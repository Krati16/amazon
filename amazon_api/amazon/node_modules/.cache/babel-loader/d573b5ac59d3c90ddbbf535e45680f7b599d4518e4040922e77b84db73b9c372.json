{"ast":null,"code":"module.exports.listen = function listenForClickOff(elem, onClickOff, opts) {\n  var parsedOpts = opts || {};\n  // we use mousedown to check the target because the click could cause the element to be removed and it'll look like it's not in us\n  var lastMouseDownWasOutside = false;\n  // check again after timeout\n  var eventListenerElement = parsedOpts.eventListenerElement || document;\n  var isInMe = parsedOpts.isInMe;\n  function mousedownHandler(e) {\n    if (typeof elem === 'function') {\n      elem = elem();\n    }\n    lastMouseDownWasOutside = !elem || !(elem === e.target || elem.contains(e.target)) && !(isInMe && isInMe(e.target));\n  }\n  function mouseupHandler(e) {\n    if (lastMouseDownWasOutside) {\n      onClickOff(e);\n    }\n  }\n  eventListenerElement.addEventListener('mousedown', mousedownHandler);\n  eventListenerElement.addEventListener('mouseup', mouseupHandler);\n  return function unbindClickOffListeners() {\n    eventListenerElement.removeEventListener('mousedown', mousedownHandler);\n    eventListenerElement.removeEventListener('mouseup', mouseupHandler);\n  };\n};","map":{"version":3,"names":["module","exports","listen","listenForClickOff","elem","onClickOff","opts","parsedOpts","lastMouseDownWasOutside","eventListenerElement","document","isInMe","mousedownHandler","e","target","contains","mouseupHandler","addEventListener","unbindClickOffListeners","removeEventListener"],"sources":["C:/amazon/amazon/node_modules/click-off/src/index.js"],"sourcesContent":["module.exports.listen = function listenForClickOff(elem, onClickOff, opts) {\n\tvar parsedOpts = opts || {}\n\t\t// we use mousedown to check the target because the click could cause the element to be removed and it'll look like it's not in us\n\tvar lastMouseDownWasOutside = false;\n\t// check again after timeout\n\tvar eventListenerElement = parsedOpts.eventListenerElement || document;\n\tvar isInMe = parsedOpts.isInMe;\n\n\tfunction mousedownHandler(e) {\n\t\tif (typeof elem === 'function') {\n\t\t\telem = elem();\n\t\t}\n\t\tlastMouseDownWasOutside = !elem || !(elem === e.target || elem.contains(e.target)) && !(isInMe && isInMe(e.target));\n\t}\n\n\tfunction mouseupHandler(e) {\n\t\tif (lastMouseDownWasOutside) {\n\t\t\tonClickOff(e);\n\t\t}\n\t}\n\teventListenerElement.addEventListener('mousedown', mousedownHandler);\n\teventListenerElement.addEventListener('mouseup', mouseupHandler);\n\n\treturn function unbindClickOffListeners() {\n\t\teventListenerElement.removeEventListener('mousedown', mousedownHandler);\n\t\teventListenerElement.removeEventListener('mouseup', mouseupHandler);\n\t};\n};\n"],"mappings":"AAAAA,MAAM,CAACC,OAAO,CAACC,MAAM,GAAG,SAASC,iBAAiBA,CAACC,IAAI,EAAEC,UAAU,EAAEC,IAAI,EAAE;EAC1E,IAAIC,UAAU,GAAGD,IAAI,IAAI,CAAC,CAAC;EAC1B;EACD,IAAIE,uBAAuB,GAAG,KAAK;EACnC;EACA,IAAIC,oBAAoB,GAAGF,UAAU,CAACE,oBAAoB,IAAIC,QAAQ;EACtE,IAAIC,MAAM,GAAGJ,UAAU,CAACI,MAAM;EAE9B,SAASC,gBAAgBA,CAACC,CAAC,EAAE;IAC5B,IAAI,OAAOT,IAAI,KAAK,UAAU,EAAE;MAC/BA,IAAI,GAAGA,IAAI,CAAC,CAAC;IACd;IACAI,uBAAuB,GAAG,CAACJ,IAAI,IAAI,EAAEA,IAAI,KAAKS,CAAC,CAACC,MAAM,IAAIV,IAAI,CAACW,QAAQ,CAACF,CAAC,CAACC,MAAM,CAAC,CAAC,IAAI,EAAEH,MAAM,IAAIA,MAAM,CAACE,CAAC,CAACC,MAAM,CAAC,CAAC;EACpH;EAEA,SAASE,cAAcA,CAACH,CAAC,EAAE;IAC1B,IAAIL,uBAAuB,EAAE;MAC5BH,UAAU,CAACQ,CAAC,CAAC;IACd;EACD;EACAJ,oBAAoB,CAACQ,gBAAgB,CAAC,WAAW,EAAEL,gBAAgB,CAAC;EACpEH,oBAAoB,CAACQ,gBAAgB,CAAC,SAAS,EAAED,cAAc,CAAC;EAEhE,OAAO,SAASE,uBAAuBA,CAAA,EAAG;IACzCT,oBAAoB,CAACU,mBAAmB,CAAC,WAAW,EAAEP,gBAAgB,CAAC;IACvEH,oBAAoB,CAACU,mBAAmB,CAAC,SAAS,EAAEH,cAAc,CAAC;EACpE,CAAC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}