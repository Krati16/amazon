{"ast":null,"code":"var globalStack;\nfunction makeStack() {\n  var stack = [];\n\n  // in order to capture escape event first\n  document.body.addEventListener('keydown', function (e) {\n    var key = e.keyCode ? e.keyCode : e.which;\n    // yup i hard coded 27 sorry suckas\n    if (key === 27) {\n      while (!!stack.length && !stack.pop()(e)) {}\n    }\n  }, true);\n  function addEscapeHandler(handler) {\n    stack.push(handler);\n    return function () {\n      removeEscapeHandler(handler);\n    };\n  }\n  function removeEscapeHandler(handler) {\n    var index = stack.indexOf(handler);\n    if (index !== -1) {\n      stack.splice(index, 1);\n    }\n  }\n  return {\n    add: addEscapeHandler\n  };\n}\nmodule.exports = function (global) {\n  if (!global) {\n    return makeStack();\n  }\n  if (!globalStack) {\n    globalStack = makeStack();\n  }\n  return globalStack;\n};","map":{"version":3,"names":["globalStack","makeStack","stack","document","body","addEventListener","e","key","keyCode","which","length","pop","addEscapeHandler","handler","push","removeEscapeHandler","index","indexOf","splice","add","module","exports","global"],"sources":["C:/amazon/amazon/node_modules/escape-stack/src/index.js"],"sourcesContent":["var globalStack;\n\nfunction makeStack() {\n    var stack = [];\n\n    // in order to capture escape event first\n    document.body.addEventListener('keydown', function(e) {\n\n        var key = e.keyCode ? e.keyCode : e.which;\n        // yup i hard coded 27 sorry suckas\n        if (key === 27) {\n            while (!!stack.length && !(stack.pop())(e)) {}\n        }\n    }, true);\n\n    function addEscapeHandler(handler) {\n        stack.push(handler);\n        return function() {\n            removeEscapeHandler(handler);\n        };\n    }\n\n    function removeEscapeHandler(handler) {\n        var index = stack.indexOf(handler);\n        if (index !== -1) {\n            stack.splice(index, 1);\n        }\n    }\n    return {\n        add: addEscapeHandler\n    };\n}\n\nmodule.exports = function(global) {\n    if (!global) {\n        return makeStack();\n    }\n\n    if (!globalStack) {\n        globalStack = makeStack();\n    }\n    return globalStack;\n};\n"],"mappings":"AAAA,IAAIA,WAAW;AAEf,SAASC,SAASA,CAAA,EAAG;EACjB,IAAIC,KAAK,GAAG,EAAE;;EAEd;EACAC,QAAQ,CAACC,IAAI,CAACC,gBAAgB,CAAC,SAAS,EAAE,UAASC,CAAC,EAAE;IAElD,IAAIC,GAAG,GAAGD,CAAC,CAACE,OAAO,GAAGF,CAAC,CAACE,OAAO,GAAGF,CAAC,CAACG,KAAK;IACzC;IACA,IAAIF,GAAG,KAAK,EAAE,EAAE;MACZ,OAAO,CAAC,CAACL,KAAK,CAACQ,MAAM,IAAI,CAAER,KAAK,CAACS,GAAG,CAAC,CAAC,CAAEL,CAAC,CAAC,EAAE,CAAC;IACjD;EACJ,CAAC,EAAE,IAAI,CAAC;EAER,SAASM,gBAAgBA,CAACC,OAAO,EAAE;IAC/BX,KAAK,CAACY,IAAI,CAACD,OAAO,CAAC;IACnB,OAAO,YAAW;MACdE,mBAAmB,CAACF,OAAO,CAAC;IAChC,CAAC;EACL;EAEA,SAASE,mBAAmBA,CAACF,OAAO,EAAE;IAClC,IAAIG,KAAK,GAAGd,KAAK,CAACe,OAAO,CAACJ,OAAO,CAAC;IAClC,IAAIG,KAAK,KAAK,CAAC,CAAC,EAAE;MACdd,KAAK,CAACgB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;IAC1B;EACJ;EACA,OAAO;IACHG,GAAG,EAAEP;EACT,CAAC;AACL;AAEAQ,MAAM,CAACC,OAAO,GAAG,UAASC,MAAM,EAAE;EAC9B,IAAI,CAACA,MAAM,EAAE;IACT,OAAOrB,SAAS,CAAC,CAAC;EACtB;EAEA,IAAI,CAACD,WAAW,EAAE;IACdA,WAAW,GAAGC,SAAS,CAAC,CAAC;EAC7B;EACA,OAAOD,WAAW;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}