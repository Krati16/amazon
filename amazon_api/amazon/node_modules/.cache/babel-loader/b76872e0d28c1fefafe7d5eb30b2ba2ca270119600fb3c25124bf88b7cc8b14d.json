{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = void 0;\nvar dirty_clean_1 = require(\"../dirty-clean\");\nvar position_range_1 = require(\"../position-range\");\nvar util = require(\"../util\");\nfunction create(grid) {\n  var dirtyClean = dirty_clean_1.default(grid);\n  var aliveDecorators = [];\n  var deadDecorators = [];\n  var decoratorsInstance = {\n    add: function (_decorators) {\n      var decorators = util.toArray(_decorators);\n      decorators.forEach(function (decorator) {\n        aliveDecorators.push(decorator);\n        if (decorator._decoratorDirtyClean) {\n          decorator._decoratorDirtyClean.enable();\n        }\n      });\n      dirtyClean.setDirty();\n    },\n    remove: function (_decorators) {\n      var decorators = util.toArray(_decorators);\n      decorators.forEach(function (decorator) {\n        var index = aliveDecorators.indexOf(decorator);\n        if (index !== -1) {\n          aliveDecorators.splice(index, 1);\n          deadDecorators.push(decorator);\n          if (decorator._decoratorDirtyClean) {\n            decorator._decoratorDirtyClean.disable();\n          }\n          dirtyClean.setDirty();\n        }\n      });\n    },\n    getAlive: function () {\n      return aliveDecorators.slice(0);\n    },\n    popAllDead: function () {\n      var oldDead = deadDecorators;\n      deadDecorators = [];\n      return oldDead;\n    },\n    isDirty: dirtyClean.isDirty,\n    create: function (t, l, h, w, u, s) {\n      var thisDirtyClean = dirty_clean_1.default(grid);\n      var decoratorBase = {\n        _decoratorDirtyClean: thisDirtyClean,\n        render: function () {\n          var div = document.createElement('div');\n          div.style.position = 'absolute';\n          div.style.top = '0px';\n          div.style.left = '0px';\n          div.style.bottom = '0px';\n          div.style.right = '0px';\n          if (decorator.postRender) {\n            decorator.postRender(div);\n          }\n          return div;\n        }\n      };\n      var decorator = position_range_1.default(decoratorBase, thisDirtyClean, dirtyClean);\n      decorator.top = t;\n      decorator.left = l;\n      decorator.height = h;\n      decorator.width = w;\n      decorator.units = u || decorator.units;\n      decorator.space = s || decorator.space;\n      return decorator;\n    }\n  };\n  return decoratorsInstance;\n}\nexports.create = create;\nexports.default = create;","map":{"version":3,"names":["dirty_clean_1","require","position_range_1","util","create","grid","dirtyClean","default","aliveDecorators","deadDecorators","decoratorsInstance","add","_decorators","decorators","toArray","forEach","decorator","push","_decoratorDirtyClean","enable","setDirty","remove","index","indexOf","splice","disable","getAlive","slice","popAllDead","oldDead","isDirty","t","l","h","w","u","s","thisDirtyClean","decoratorBase","render","div","document","createElement","style","position","top","left","bottom","right","postRender","height","width","units","space","exports"],"sources":["C:\\amazon\\amazon\\node_modules\\grid\\src\\modules\\decorators\\index.ts"],"sourcesContent":["import { Grid } from '../core';\nimport makeDirtyClean, { IDirtyClean } from '../dirty-clean';\nimport mixinPositionRange, { IPartialPositionRange, PositionSpace, PositionUnit } from '../position-range';\nimport * as util from '../util';\n\nexport interface IDecorator extends IPartialPositionRange {\n    _decoratorDirtyClean?: IDirtyClean;\n    fixed?: boolean;\n    boundingBox?: HTMLElement;\n    render(): HTMLElement;\n    postRender?(elem: HTMLElement): void;\n}\n\nexport interface IDecoratorModel {\n    add(decorators: IDecorator | IDecorator[]): void;\n    remove(decorators: IDecorator | IDecorator[]): void;\n    getAlive(): IDecorator[];\n    popAllDead(): IDecorator[];\n    isDirty(): boolean;\n    create(t?: number, l?: number, h?: number, w?: number, u?: PositionUnit, s?: PositionSpace): IDecorator;\n}\n\nexport function create(grid: Grid) {\n\n    const dirtyClean = makeDirtyClean(grid);\n\n    const aliveDecorators: IDecorator[] = [];\n    let deadDecorators: IDecorator[] = [];\n\n    const decoratorsInstance: IDecoratorModel = {\n        add(_decorators: IDecorator | IDecorator[]) {\n            const decorators = util.toArray(_decorators);\n            decorators.forEach((decorator) => {\n                aliveDecorators.push(decorator);\n                if (decorator._decoratorDirtyClean) {\n                    decorator._decoratorDirtyClean.enable();\n                }\n            });\n            dirtyClean.setDirty();\n        },\n        remove(_decorators: IDecorator | IDecorator[]) {\n            const decorators = util.toArray(_decorators);\n            decorators.forEach((decorator) => {\n                const index = aliveDecorators.indexOf(decorator);\n                if (index !== -1) {\n                    aliveDecorators.splice(index, 1);\n                    deadDecorators.push(decorator);\n                    if (decorator._decoratorDirtyClean) {\n                        decorator._decoratorDirtyClean.disable();\n                    }\n                    dirtyClean.setDirty();\n                }\n            });\n        },\n        getAlive() {\n            return aliveDecorators.slice(0);\n        },\n        popAllDead() {\n            const oldDead = deadDecorators;\n            deadDecorators = [];\n            return oldDead;\n        },\n        isDirty: dirtyClean.isDirty,\n        create(t?: number, l?: number, h?: number, w?: number, u?: PositionUnit, s?: PositionSpace) {\n            const thisDirtyClean = makeDirtyClean(grid);\n\n            // mixin the position range functionality\n            const decoratorBase = {\n                _decoratorDirtyClean: thisDirtyClean,\n                // they can override but we should have an empty default to prevent npes\n                render() {\n                    const div = document.createElement('div');\n                    div.style.position = 'absolute';\n                    div.style.top = '0px';\n                    div.style.left = '0px';\n                    div.style.bottom = '0px';\n                    div.style.right = '0px';\n                    if (decorator.postRender) {\n                        decorator.postRender(div);\n                    }\n                    return div;\n                }\n            };\n            const decorator: IDecorator = mixinPositionRange(\n                decoratorBase,\n                thisDirtyClean,\n                dirtyClean\n            );\n            decorator.top = t;\n            decorator.left = l;\n            decorator.height = h;\n            decorator.width = w;\n            decorator.units = u || decorator.units;\n            decorator.space = s || decorator.space;\n\n            return decorator;\n\n        }\n\n    };\n\n    return decoratorsInstance;\n}\n\nexport default create;"],"mappings":";;;;;;AACA,IAAAA,aAAA,GAAAC,OAAA;AACA,IAAAC,gBAAA,GAAAD,OAAA;AACA,IAAAE,IAAA,GAAAF,OAAA;AAmBA,SAAgBG,MAAMA,CAACC,IAAU;EAE7B,IAAMC,UAAU,GAAGN,aAAA,CAAAO,OAAc,CAACF,IAAI,CAAC;EAEvC,IAAMG,eAAe,GAAiB,EAAE;EACxC,IAAIC,cAAc,GAAiB,EAAE;EAErC,IAAMC,kBAAkB,GAAoB;IACxCC,GAAG,EAAH,SAAAA,CAAIC,WAAsC;MACtC,IAAMC,UAAU,GAAGV,IAAI,CAACW,OAAO,CAACF,WAAW,CAAC;MAC5CC,UAAU,CAACE,OAAO,CAAC,UAACC,SAAS;QACzBR,eAAe,CAACS,IAAI,CAACD,SAAS,CAAC;QAC/B,IAAIA,SAAS,CAACE,oBAAoB,EAAE;UAChCF,SAAS,CAACE,oBAAoB,CAACC,MAAM,EAAE;;MAE/C,CAAC,CAAC;MACFb,UAAU,CAACc,QAAQ,EAAE;IACzB,CAAC;IACDC,MAAM,EAAN,SAAAA,CAAOT,WAAsC;MACzC,IAAMC,UAAU,GAAGV,IAAI,CAACW,OAAO,CAACF,WAAW,CAAC;MAC5CC,UAAU,CAACE,OAAO,CAAC,UAACC,SAAS;QACzB,IAAMM,KAAK,GAAGd,eAAe,CAACe,OAAO,CAACP,SAAS,CAAC;QAChD,IAAIM,KAAK,KAAK,CAAC,CAAC,EAAE;UACdd,eAAe,CAACgB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;UAChCb,cAAc,CAACQ,IAAI,CAACD,SAAS,CAAC;UAC9B,IAAIA,SAAS,CAACE,oBAAoB,EAAE;YAChCF,SAAS,CAACE,oBAAoB,CAACO,OAAO,EAAE;;UAE5CnB,UAAU,CAACc,QAAQ,EAAE;;MAE7B,CAAC,CAAC;IACN,CAAC;IACDM,QAAQ,WAAAA,CAAA;MACJ,OAAOlB,eAAe,CAACmB,KAAK,CAAC,CAAC,CAAC;IACnC,CAAC;IACDC,UAAU,WAAAA,CAAA;MACN,IAAMC,OAAO,GAAGpB,cAAc;MAC9BA,cAAc,GAAG,EAAE;MACnB,OAAOoB,OAAO;IAClB,CAAC;IACDC,OAAO,EAAExB,UAAU,CAACwB,OAAO;IAC3B1B,MAAM,EAAN,SAAAA,CAAO2B,CAAU,EAAEC,CAAU,EAAEC,CAAU,EAAEC,CAAU,EAAEC,CAAgB,EAAEC,CAAiB;MACtF,IAAMC,cAAc,GAAGrC,aAAA,CAAAO,OAAc,CAACF,IAAI,CAAC;MAG3C,IAAMiC,aAAa,GAAG;QAClBpB,oBAAoB,EAAEmB,cAAc;QAEpCE,MAAM,WAAAA,CAAA;UACF,IAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;UACzCF,GAAG,CAACG,KAAK,CAACC,QAAQ,GAAG,UAAU;UAC/BJ,GAAG,CAACG,KAAK,CAACE,GAAG,GAAG,KAAK;UACrBL,GAAG,CAACG,KAAK,CAACG,IAAI,GAAG,KAAK;UACtBN,GAAG,CAACG,KAAK,CAACI,MAAM,GAAG,KAAK;UACxBP,GAAG,CAACG,KAAK,CAACK,KAAK,GAAG,KAAK;UACvB,IAAIhC,SAAS,CAACiC,UAAU,EAAE;YACtBjC,SAAS,CAACiC,UAAU,CAACT,GAAG,CAAC;;UAE7B,OAAOA,GAAG;QACd;OACH;MACD,IAAMxB,SAAS,GAAed,gBAAA,CAAAK,OAAkB,CAC5C+B,aAAa,EACbD,cAAc,EACd/B,UAAU,CACb;MACDU,SAAS,CAAC6B,GAAG,GAAGd,CAAC;MACjBf,SAAS,CAAC8B,IAAI,GAAGd,CAAC;MAClBhB,SAAS,CAACkC,MAAM,GAAGjB,CAAC;MACpBjB,SAAS,CAACmC,KAAK,GAAGjB,CAAC;MACnBlB,SAAS,CAACoC,KAAK,GAAGjB,CAAC,IAAInB,SAAS,CAACoC,KAAK;MACtCpC,SAAS,CAACqC,KAAK,GAAGjB,CAAC,IAAIpB,SAAS,CAACqC,KAAK;MAEtC,OAAOrC,SAAS;IAEpB;GAEH;EAED,OAAON,kBAAkB;AAC7B;AAhFA4C,OAAA,CAAAlD,MAAA,GAAAA,MAAA;AAkFAkD,OAAA,CAAA/C,OAAA,GAAeH,MAAM","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}